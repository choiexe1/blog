---
title: 
tags:
  - java
  - programming
  - spring
publish: true
date: 2024-11-12
---
## 프로젝트 생성

- [Spring Initializr](https://start.spring.io/)는 스프링 부트 스타터 사이트다. 여기서 스프링 프로젝트 템플릿을 생성할 수 있다.
- 의존관계(라이브러리)도 추가할 수 있다.

```
1. 시작부터 에러 만남, 프로젝트 실행이 안되는 에러?
2. 자바 버전(22)과 `build.gradle` 파일의 `languageVersion = JavaLanguageVersion.of(22)` 부분 맞춰주고, 인텔리제이에서 프로젝트 자바 버전 설정 해주니 실행됨.
3. `Gradle`은 의존관계가 있는 라이브러리를 함께 다운로드한다.
```

## 의존관계 관리
`Gradle`이나 `Maven`같은 빌드 툴들은 의존관계를 관리해준다. 의존하고 있는 라이브러리까지 포함하여 다운로드하고 빌드한다.


## View 환경설정
스프링 부트가 제공하는 `Welcome Page` 기능은 `resource/static/index.html`을 `Welcome Page`로 사용한다.

이런 기능들에 대해 학습하려면 [spring.io](https://spring.io)에서 찾을 수 있다.

### 템플릿 엔진
Node.js에서 사용하던 `ejs`도 템플릿 엔진이다. 주로 `MVC` 구조의 웹 서비스를 개발할 때 사용했다.
마찬가지로 `Thymeleaf`도 템플릿 엔진이다.

템플릿 엔진은 템플릿 엔진이 제공하는 문법이나 기능을 통해서 `index.html`과 같은 `html` 파일에서 반복문이나 조건문 등을 사용할 수 있게 한다. 

- [Thymeleaf 공식 사이트](https://thymeleaf.org)

## 컨트롤러
스프링에서 컨트롤러를 선언하기 위해서는 컨트롤러 클래스에 다음과 같이 어노테이션을 사용해야한다.

```java
@Controller
public class HelloController { ... }
```

`Nest.js`가 `Node.js` 계의 스프링이라는 말도 있었는데, 스프링과 유사한 점이 굉장히 많은 것 같다.
다음과 같이 컨트롤러로 선언한 클래스의 메서드에 `@GetMapping("hello")` 어노테이션을 사용하면 HTTP GET 요청 `hello`를 이 컨트롤러가 수행한다.

```java
import org.springframework.ui.Model;

@GetMapping("hello")  
public String hello(Model model) {  
	model.addAttribute("data", "Hello!");  
	return "hello";  
}  
```

### 동작 환경 예시
![[동작환경.png]]
- 컨트롤러에서 리턴 값으로 문자열을 반환하면 `viewResolver`가 화면을 찾아서 처리한다.
	- 스프링 부트 템플릿엔진 기본 `viewName` 매핑
	- `resources:templates/ + {ViewName} + .html`

## 빌드와 실행
1. 프로젝트 폴더 내에서 `./gradlew build` 명령어를 사용하여 빌드한다.
2. `build/libs` 폴더로 이동한다.
3. `java -jar hello-spring-0.0.1-SNAPSHOT.jar`를 실행한다.

당연히 `java` 명령어로 실행하는 확장자명 `.jar` 파일은 프로젝트 명과 버전 표기에 따라 달라질 것이다.

배포 시에는 빌드가 완료된 `.jar` 파일만 복사하여 서버에 올리고, 실행하면 된다.

**참고**

- `./gradlew clean`: 빌드 폴더를 지운다.
- `./gradlew clean build`: 빌드 폴더를 지우고 다시 빌드한다.

## 웹 개발 기초
웹 서버에서 클라이언트에게 데이터를 전달해주는 방식은 다음과 같이 크게 3가지로 구분된다.

- 정적 컨텐츠
- MVC와 템플릿 엔진
- API

**정적 컨텐츠**

말 그대로 동적으로 변화하지 않는, 서버 내에 저장되어 있는 파일을 그대로 클라이언트에게 전달 하는 것이다.

스프링에서 정적 컨텐츠를 제공하는 방법은 `resources/static` 폴더에 정적 컨텐츠 파일을 넣어 놓고 클라이언트 측에서 `서버 주소/정적 컨텐츠 파일명.확장자명`으로 접근하는 것이다.

**MVC와 템플릿 엔진**

클라이언트에게 보여줄 유저 인터페이스(UI)와 데이터를 동시에 전달하는 방식이다. 동적으로 유저 인터페이스나 데이터가 변화한다.

단점으로는 서버 내에서 연산이 끝날 때까지 페이지 로딩이 완료되지 않는다는 점이다.


**API**

주로 서버간의 통신이나, 이미 구현되어 있는 유저 인터페이스를 통해 데이터만 변경하여 전달하는 방식이다.
이미 구현되어 있는 클라이언트(유저 인터페이스)에 통신을 통해 값만 전달한다.

### MVC와 템플릿 엔진
`MVC`는 `Model, View, Controller`를 합쳐 부르는 말이다. MVC 구조는 클라이언트에게 제공하는 인터페이스의 역할과 비즈니스 로직의 역할을 분리하고 그 중간에 모델이라는 데이터 전달 매개체를 사용한다.

쉽게 말해서 `View`는 인터페이스의 역할만하고 `Controller`는 비즈니스 로직을 처리하고, `Model`은 `Controller`에서 연산된 결과를 `View`에 전달한다.




---
References: 김영한의 스프링 부트 입문

Links to this page: 