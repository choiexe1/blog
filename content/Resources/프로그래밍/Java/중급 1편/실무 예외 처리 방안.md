---
title: 
tags:
  - java
  - programming
  - exception
publish: true
date: 2024-10-10
---

## 처리할 수 없는 예외

- 상대 네트워크 서버에 문제가 발생해서 통신이 불가능
- 데이터베이스 서버에 문제가 발생해서 접속 불가

이렇게 시스템 오류 때문에 발생한 예외들은 대부분 예외를 잡아도 해결 할 수 있는 것이 거의 없다. 예외를 잡아서 다시 호출을 시도해도 같은 오류가 반복될 뿐이다.

이런 경우 고객에게는 시스템 문제라는 것을 오류 메시지를 통해 보여주고, 만약 웹이라면 오류 페이지를 보여주면 된다.

그리고 내부 개발자가 문제 상황을 빠르게 인지할 수 있도록 오류에 대한 로그를 남겨두어야 한다.

## 체크 예외의 부담
![[체크예외의_부담.png]]
체크 예외는 개발자가 실수로 놓칠 수 있는 예외들을 컴파일러가 체크해주기 때문에 오래전부터 많이 사용되었다. 

그런데 앞서 설명한 것 처럼 처리할 수 없는 예외가 많아지고 또 프로그램이 점점 복잡해지면서 체크 예외를 사용하는 것이 점점 더 부담스러워졌다.


![[체크예외의_부담1.png]]
결과적으로 이런 형태가 될 것이다.



**정리**

지금까지 알아본 체크 예외를 사용할 때 발생하는 문제들은 다음과 같다.
- **처리할 수 없는 예외**: 예외를 잡아서 복구할 수 있는 예외보다 복구할 수 없는 예외가 더 많다.
- **체크 예외의 부담**: 처리할 수 없는 예외는 밖으로 던져야한다. 체크 예외이므로 `throws`에 던질 대상을 일일이 명시해야 한다.

수 많은 라이브러리에서 쏟아지는 모든 예외를 다 다루고 싶지는 않을 것이다. 특히 본인이 해결할 수도 없는 모든 예외를 다 다루고 싶지는 않을 것이다.

본인이 해결할 수 있는 예외만 잡아서 처리하고, 해결할 수 없는 예외는 신경쓰지 않는 것이 더 나은 선택일 수 있다.

## 언체크 예외 사용 시나리오
![[언체크예외_1.png]]
- 이번에는 `Service`에서 호출하는 클래스들이 언체크(런타임) 예외를 전달한다고 가정한다.
- `NetworkException`, `DatabaseException`은 잡아도 복구할 수 없다. 언체크 예외이므로 이런 경우 무시하면 된다.

```java title="언체크 예외를 던지는 예시"
class Service {
	void sendMessage(String data) {
		...
	}
}
```
- 언체크 예외이므로 `throws`를 선언하지 않아도 된다.
- 사용하는 라이브러리가 늘어나서 언체크 예외가 늘어도 본인이 필요한 예외만 잡으면 된다.

```java title="일부 언체크 예외를 잡아서 처리하는 예시"
try {
	...
} catch (xxxException e) {
	...
}
```
- 상대 네트워크 서버나, 데이터베이스 서버에 문제가 발생한 경우 `Service`에서 예외를 잡아도 복구할 수 없다.
- `Service`에서는 본인이 처리할 수 없는 예외들이기 때문에 밖으로 던지는 것이 나은 결정이다.
- 언체크 예외는 잡지 않으면 `throws` 선언이 없어도 자동으로 밖으로 던진다.
- 만약 일부 언체크 예외를 잡아서 처리할 수 있다면 잡아서 처리하면 된다.

## 예외 공통 처리
이렇게 처리할 수 없는 예외들은 중간에 여러곳에서 나누어 처리하기 보다는 예외를 공통으로 처리할 수 있는 곳을 만들어서 한 곳에서 해결하면 된다.

어차피 해결할 수 없는 예외들이기 때문에 이런 경우 고객에게는 현재 시스템에 문제가 있습니다 등 오류 메세지를 보여주고 만약 웹이라면 오류 페이지를 보여주면 된다.

그리고 내부 개발자가 문제 상황을 빠르게 인지할 수 있도록 오류에 대한 로그를 남겨두면 된다. 이런 부분은 공통 처리가 가능하다.

---
References: 김영한의 실전 자바 - 중급 1편

Links to this page: 