---
title: 
tags:
  - java
  - programming
publish: true
date: 2024-09-30
---
## 지역 클래스 - 지역 변수 캡처 2
지역 클래스는 지역 변수에 접근할 수 있다. 앞서 공부했던 것 처럼 지역 변수의 생명 주기는 짧고 지역 클래스를 통해 생성한 인스턴스의 생명 주기는 길다.

지역 클래스를 통해 생성한 인스턴스가 지역 변수에 접근해야 하는데 둘의 생명 주기가 다르기 때문에 인스턴스는 살아 있지만 지역 변수는 이미 제거된 상태일 수 있다.

## 변수 캡처
자바는 이런 문제를 해결하기 위해 지역 클래스의 인스턴스를 생성하는 시점에 필요한 지역 변수를 복사해서 생성한 인스턴스에 함께 넣어둔다. 이런 과정을 **변수 캡처(Capture)**라고 한다.

물론 모든 지역 변수를 캡처하는 것이 아니라, 접근이 필요한 지역 변수만 캡처한다.

1. **`LocalPrinter` 인스턴스 생성 시도**: 지역 클래스의 인스턴스를 생성할 때 지역 클래스가 접근하는 지역 변수를 먼저 확인한다.
2. **사용하는 지역 변수 복사**: 지역 클래스가 사용하는 지역 변수를 복사한다. (매개변수도 포함)
3. **지역 변수 복사 완료**: 복사한 지역 변수를 지역 클래스의 인스턴스에 포함한다.
4. **인스턴스 생성 완료**: 복사한 지역 변수를 포함해서 인스턴스 생성이 완료된다. 이제 복사한 지역 변수를 인스턴스를 통해 접근할 수 있다.

예

---
References: 김영한의 실전 자바 - 중급 1편

Links to this page: [[지역 클래스]], [[지역 클래스 - 지역 변수 캡처 1]]