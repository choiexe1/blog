---
title: 
tags:
  - java
  - spring
  - database
  - spring-data-jpa
  - jpa
publish: true
date: 2024-12-26
---
## 스프링 데이터 JPA 예제와 트레이드 오프

다시 [[6. 스프링 데이터 JPA]]를 되돌아보면, 다음과 같이 `jpaItemRepositoryV2`가 어댑터 역할을 해준 덕분에 `itemService`의 코드 변경 없이 구현체를 변경할 수 있었다.

```mermaid
graph LR

ItemService --> jpaItemRepositoryV2 --> ProxySpringDataJPA
```

- 문제는 이런 구조를 맞추기 위해서(서비스 레이어가 외부 의존성을 갖지  않기 위해서) 중간에 어댑터가 들어가면서 전체 구조가 복잡해지고, 사용하는 클래스도 많아지는 단점이 생겼다.
- 실제 이 코드를 구현해야 하는 개발자 입장에서 보면 중간에 어댑터도 만들고, 실제 코드까지 만들어야 하는 불편함이 생긴다.
- 유지보수적 관점에서 `ItemService`를 변경하지 않고 `ItemRepository`의 구현체를 변경할 수 있는 장점이 있다. 그러니까 DI, OCP 원칙을 지킬 수 있다는 좋은 점은 있지만 반대로 구조가 복잡해지면서 어댑터 코드와 실제 코드까지 함께 유지보수 해야 하는 어려움도 발생한다.

여기서 또



---
References: 김영한의 스프링 DB 2편

Links to this page: [[6. 스프링 데이터 JPA]]