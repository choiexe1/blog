---
title: 
tags:
  - java
  - programming
  - algorithm
  - hash
  - data-structure
  - collection-framework
publish: true
date: 2024-11-02
---
## 직접 구현하는 Set 3 (직접 만든 객체 보관)
`MyHashSetV2`는 `Object`를 받을 수 있다. 따라서 우리가 직접 만든 `Member`와 같은 객체도 보관할 수 있다.
여기서 주의할 점은 직접 만든 객체가 `hashCode()`, `equals()`를 **반드시** 구현해야 한다는 점이다.

```java
public class MyHashSetV2Main2 {  
    public static void main(String[] args) {  
        MyHashSetV2 set = new MyHashSetV2(10);  
        Member hi = new Member("hi");  
        Member jpa = new Member("JPA");  
        Member java = new Member("java");  
        Member spring = new Member("spring");  
  
        System.out.println("hi.hashCode() = " + hi.hashCode());  
        System.out.println("jpa.hashCode() = " + jpa.hashCode());  
        System.out.println("java.hashCode() = " + java.hashCode());  
        System.out.println("spring.hashCode() = " + spring.hashCode());  
  
        set.add(hi);  
        set.add(jpa);  
        set.add(java);  
        set.add(spring);  
        System.out.println(set);  
  
        //검색  
        Member searchValue = new Member("JPA");  
        boolean result = set.contains(searchValue);  
        System.out.println("set.contains(" + searchValue + ") = " + result);  
    }  
}
```

- `Member`의 `hashCode()`를 `id` 값 기반으로 재정의해 두었다.
- `hashIndex(Object value)`에서 `value.hashCode()`를 호출하면, 실제로는 `Member`에서 재정의한 `hashCode()`가 호출된다.
- 이렇게 반환된 해시 코드를 기반으로 해시 인덱스를 생성한다.

**그렇다면 `Member`에 재정의한 `equals()`는 어디서 사용되는 걸까?**

문자열 `JPA`를 조회할 때 해시 인덱스는 0이다. 따라서 배열의 0번 인덱스를 조회한다. 여기에는 `["hi", "JPA"]`라는 멤버 두 명이 있다. 이것을 하나 하나 비교해야 한다. 이 때 `equals()`를 사용해서 비교한다.

`MyHashSetV2`에는 `contains()`가 정의되어 있고, 해당 메서드 내부에서는 연결 리스트의 `contains()`를 사용한다.





---
References: 김영한의 실전 자바 - 중급 2편

Links to this page: [[해시 알고리즘 2]]