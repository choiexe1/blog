---
title: 
tags:
  - java
  - programming
  - algorithm
  - data-structure
  - collection-framework
  - iterable
  - iterator
publish: true
date: 2024-11-10
---
## 순회
순회라는 단어는 여러 곳을 돌아다닌다는 뜻이다. 자료구조에 순회는 자료구조에 들어있는 데이터를 차례대로 접근해서 처리하는 것을 순회라고 한다.

그런데 다양한 자료구조가 있고, 각각의 자료구조마다 데이터를 접근하는 방법이 모두 다르다.

![[순회-01.png]]

예를 들어서 배열 리스트는 `index`를 `size`까지 차례로 증가하면서 순회해야 하고, 연결 리스트는 `node.next`를 사용해서 `node`의 끝이 `null`일 때 까지 순회해야 한다. 이렇듯 각 자료구조의 순회 방법이 서로 다르다.

배열 리스트, 연결 리스트, 해시 셋, 연결 해시 셋, 트리 셋 등등 다양한 자료구조가 있다. 각각의 자료구조마다 순회하는 방법이 서로 다르기 때문에, 각 자료구조의 순회 방법을 배워야 한다.

그리고 순회 방법을 배우려면 자료구조의 내부 구조도 알아야한다. 결과적으로 너무 많은 내용을 알아야 하는 것이다. 하지만 자료구조를 사용하는 개발자 입장에서 보면 단순히 자료구조에 들어있는 모든 데이터에 순서대로 접근해서 출력하거나 계산하고 싶을 뿐이다.

자료구조의 구현과 관계 없이 모든 자료구조를 동일한 방법으로 순회할 수 있는 일관성 있는 방법이 있다면, 자료구조를 사용하는 개발자 입장에서 매우 편리할 것이다.

자바는 이런 문제를 해결하기 위해 `Iterable`과 `Iterator` 인터페이스를 제공한다.

## Iterable, Iterator
- **Iterable**: 순회 가능한
- **Iterator**: 반복자

```java title="Iterable 인터페이스의 주요 메서드"
public interface Iterable<T> {
	Iterator<T> iterator();
}
```
- 단순히 `Iterator` 반복자를 반환한다.

```java title="Iterator 인터페이스의 주요 메서드"
public interface Iterator<E> {
	boolean hasNext();
	E next();
}
```
- `hasNext()`: 다음 요소가 있는지 확인한다. 다음 요소가 없으면 `false`를 반환한다.
- `next()`: 다음 요소를 반환한다. 내부에 있는 위치를 다음으로 이동한다.

자료구조에 들어있는 데이터를 처음부터 끝까지 순회하는 방법은 단순하다. 다음 요소가 있는지 확인하고, 있으면 다음 요소를 꺼내는 과정을 반복하면 된다. 다음 요소가 없다면 종료하면 된다.

`Iterable`, `Iterator`를 사용하는 자료구조를 하나 만들어본다. 둘 다 인터페이스여서 구현체가 필요하다.

```java title="MyArrayIterator.java"
public class MyArrayIterator implements Iterator<Integer> {  
    private int currentIndex = -1;  
    private int[] targetArr;  
  
    public MyArrayIterator(int[] targetArr) {  
        this.targetArr = targetArr;  
    }  
  
    @Override  
    public boolean hasNext() {  
        return currentIndex < targetArr.length - 1;  
    }  
  
    @Override  
    public Integer next() {  
        return targetArr[++currentIndex];  
    }  
}
```
- 생성자를 통해 반복자가 사용할 배열을 참조한다. 여기서 참조한 배열을 순회한다.
- `currentIndex`: 현재 인덱스, `next()` 호출 시 하나씩 증가한다.
- `hasNext()`: 다음 항목이 있는지 검사한다. 배열의 끝에 다다르면 순회가 끝났으므로 `false`를 반환한다.
- `next()`: 다음 항목을 반환한다.
	- `currentIndex`를 하나 증가하고 항목을 반환한다.
	- 인덱스는 `0`부터 시작하기 때문에 `currentIndex`는 처음엔 `-1`을 가진다. 이렇게 하면 다음 항목을 조회할 때 `0`이 된다. 따라서 처음 `next()`를 조회하면 `0`번 인덱스를 가리킨다.

`Iterator`는 단독으로 사용할 수 없다. 순회의 대상이 되는 자료구조를 만들어본다. 여기선 매우 간단한 자료구조를 하나 만든다.



---
References: 김영한의 실전 자바 - 중급 2편

Links to this page: 