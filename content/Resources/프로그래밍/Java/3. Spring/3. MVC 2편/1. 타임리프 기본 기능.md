---
title: 
tags:
  - thymeleaf
publish: true
date: 2024-11-25
---
## 타임리프 소개
- [공식 사이트](https://www.thymeleaf.org)
- [공식 문서 - 기본 기능](https://www.thymeleaf.org/doc/tutorials/3.1/usingthymeleaf.html)
- [공식 메뉴얼 - 스프링 통합](https://www.thymeleaf.org/doc/tutorials/3.1/thymeleafspring.html)

이전 강의인 스프링 MVC 1편에서 타임리프를 간단히 사용해보고 특징도 알아보았다. 이번에는 타임리프의 개념을 간단히 소개하고 실제 동작하는 기본 기능 위주로 알아본다.

### 타임리프의 특징
- 서버 사이드 HTML 렌더링 (SSR)
- 내추럴 템플릿
- 스프링 통합 지원

#### 서버 사이드 HTML 렌더링 (SSR)

타임리프는 백엔드 서버에서 HTML을 동적으로 렌더링하는 용도로 사용된다.

#### 내추럴 템플릿

타임리프는 순수 HTML을 최대한 유지하는 특징이 있다. 타임리프로 작성한 파일은 HTML을 유지하기 때문에 웹 브라우저에서 파일을 직접 열어도 내용을 확인할 수 있고, 서버를 통해 뷰 템플릿을 거치면 동적으로 변경된 결과를 확인할 수 있다.

JSP를 포함한 다른 뷰 템플릿들은 해당 파일을 여는 경우, 예를 들어서 JSP 파일 자체를 그대로 웹 브라우저에서 열어보면 JSP 소스코드와 HTML이 뒤죽박죽 섞여서 웹 브라우저에서 정상적인 HTML 결과를 확인할 수 없다. 오직 서버를 통해 JSP가 렌더링 되고 HTML 응답 결과를 받아야 화면을 확인할 수 있다.

반면에 타임리프로 작성된 파일은 해당 파일을 그대로 웹 브라우저에서 열어도 정상적인 HTML 결과를 확인 할 수 있다. 물론 이 경우 동적으로 결과가 렌더링 되지는 않는다. 하지만 HTML 마크업 결과가 어떻게 되는지 파일만 열어도 바로 확인할 수 있다.

이렇게 HTML을 그대로 유지하면서 뷰 템플릿도 사용할 수 있는 타임리프의 특징을 내추럴 템플릿(Natural Templates)이라 한다.

#### 스프링 통합 지원
타임리프는 스프링과 자연스럽게 통합되고, 스프링의 다양한 기능을 편리하게 사용할 수 있게 지원한다. 이 부분은 스프링 통합과 폼 장에서 알아본다.

## 기본 기능

### 텍스트 - text, utext
타임리프의 기본 기능인 텍스트를 출력하는 기능

```html
<li>th:text 사용 <span th:text="${data}"></span></li>  
<li>컨텐츠 안에서 직접 출력 = [[${data}]]</li>
```

- `[[${data}]]`로 컨텐츠 내에서 직접 텍스트를 출력할 수 있다.

#### 이스케이프
서버에서 모델에 데이터를 담아서 템플릿 엔진에서 렌더링 할 때, 타임리프는 기본적으로 이스케이프를 적용한다. 따라서 서버에서 `Hello <b>Spring!</b>`와 같은 문자열을 타임리프를 통해 렌더링 할 때 개발자의 의도에 맞게 Spring이 굵은 글씨체로 나오게 하기 위해서는 **Unescape**를 해주어야 한다.

- th:text -> th:utext
- \[\[...]] -> \[(...)]


### 변수 - SpringEL
타임리프에서 변수를 사용할 때는 변수 표현식을 사용한다. 변수 표현식은 다음과 같다.

`${...}`

그리고 이 변수 표현식에는 스프링 EL이라는 스프링이 제공하는 표현식을 사용할 수 있다.

```html
<h1>SpringEL 표현식</h1>  
<ul>Object  
    <li>${user.username} = <span th:text="${user.username}"></span></li>  
    <li>${user['username']} = <span th:text="${user['username']}"></span></li>  
    <li>${user.getUsername()} = <span th:text="${user.getUsername()}"></span></li>  
</ul>  
<ul>List  
    <li>${users[0].username} = <span th:text="${users[0].username}"></span></li>  
    <li>${users[0]['username']} = <span th:text="${users[0]['username']}"></span></li>  
    <li>${users[0].getUsername()} = <span th:text="${users[0].getUsername()}"></span></li>  
</ul>  
<ul>Map  
    <li>${userMap['userA'].username} = <span th:text="${userMap['userA'].username}"></span></li>  
    <li>${userMap['userA']['username']} = <span th:text="${userMap['userA']['username']}"></span></li>  
    <li>${userMap['userA'].getUsername()} = <span th:text="${userMap['userA'].getUsername()}"></span></li>  
</ul>
```

### 지역 변수 선언
`th:with`를 사용하면 지역 변수를 선언해서 사용할 수 있다. 지역 변수는 선언한 태그 범위의 안에서만 사용할 수 있다.

```html
<h1>지역 변수 - th:with</h1>  
<div th:with="first=${users[0]}">  
    <p>처음 사람의 이름은 [[${first.username}]]</p>  
</div>
```

### 기본 객체
타임리프는 기본 객체들을 제공한다.


---
References: 김영한의 스프링 MVC 2편

Links to this page: 